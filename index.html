<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- Favicon -->
    <link rel="icon" href="https://tesla.exphosted.com/sites/default/files/favicon_1_0.ico" />
    <!-- Device Compatibility -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="This is a site to report your hours in a timecard or time card">
    <meta name="author" content="Kenneth Bigler">
    <title>Timecard</title>
    <script type="text/javascript">
    [
        'https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js',
        'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js',
        'https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js',
        'https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular-cookies.min.js',
        'js/app.js',
        'js/hours.js',
        'js/controllers/HourController.js',
    ].forEach(function(src) {
        var script = document.createElement('script');
        script.src = src;
        script.async = false; 
        document.head.appendChild(script);
    });
    </script>
</head>
<!---------------------------------------------------------------------------------------------------->
<body ng-app="myApp" ng-controller="MainController">
<div></div>
<!-- Bootstrap CSS 3 -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<!-- Google Font -->
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<!-- Custom Style Sheet -->
<link rel="stylesheet" href="css/mystyles.css">
<!-- Adding a stylesheet to fix issues on this particular bootstrap window -->
<link rel='stylesheet' media='screen and (max-width: 432px)' href='css/phonestyles.css' />
<div class="container-fluid">
    <!-- Top Section of the Website -->
    <div class="row" ng-cloak>
<!---------------------------------------------------------------------------------------------------->
        <!-- Header -->
        <header class="header">
            <div class="container-fluid">
                <h2 style="display:inline;">My Timecard</h2>
                <h2 class="pull-right phonehide">{{ date | date:'fullDate' }}</h2>
            </div>
        </header>
<!---------------------------------------------------------------------------------------------------->
        <!-- Main Content -->
        <div class="col-lg-10 col-md-9 col-sm-9">
            <div class="mainContent">
                <h3 class="mainHeader">Summary</h3>
                <div class="form-group">
                    <label class="control-label col-md-2 col-sm-3" for="payrate">Hourly Rate:</label>
                    <div class="col-md-10 col-sm-9">
                        <input type="number" id="payrate" class="form-control" placeholder="$10/hour" ng-model="payrate">
                    </div>
                    <label class="control-label col-md-2 col-sm-3" for="k401">401K (%):</label>
                    <div class="col-md-10 col-sm-9">
                        <input type="number" id="k401" class="form-control" placeholder="4%" ng-model="k401">
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Regular</th>
                            <th>Overtime</th>
                            <th>Total</th>
                            <th>Tax Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{ pay.regular  | number:2 | number }} hours</td>
                            <td>{{ pay.overtime | number:2 | number }} hours</td>
                            <td>{{ calculate()  | number:2 | number }} hours</td>
                            <td>{{ pay.taxh     | number:2 | number }} hours</td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr>
                            <th>Gross Pay</th>
                            <th>Taxes</th>
                            <th>401k</th>
                            <th>Paycheck</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>${{ pay.gross    | number:2 }}</td>
                            <td>${{ pay.tax      | number:2 }}</td>
                            <td>${{ pay.k401     | number:2 }}</td>
                            <td>${{ pay.paycheck | number:2 }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
    	</div>
<!---------------------------------------------------------------------------------------------------->
    	<!-- Side Column -->
        <div class="col-lg-2 col-md-3 col-sm-3">
            <button ng-click="saveHours()" class="btn btn-danger btn-lg btn-block">Save Hours</button>
            <button ng-click="clearHours()" class="btn btn-danger btn-lg btn-block">Clear Hours</button>
            <!-- Code for Stock Quote -->
            <div class="phonehide sideContent">
                <h3 class="sideHeader"><a href="http://quote.yahoo.com/q?s=TSLA&amp;d=1d" target="_blank">Tesla Stock Quote</a></h3>
                <div class="minilink" align="center">
                TSLA:&nbsp; <b>${{ tsla.total | number:2 }}</b>&nbsp; 
                (<span ng-style='tsla.color'><b>{{ tsla.change | number:2 }},&nbsp;{{ tsla.change / tsla.total * 100 | number:2 }}%</b></span>)
            </div>
                <div class="minilink" align="center"></div>
            </div>
        </div><!-- Side Column -->
    </div><!-- /Top Section -->
<!---------------------------------------------------------------------------------------------------->
    <!-- Hours Logging -->
    <div class="mainContent">
        <h3 class="mainHeader">Report Your Hours</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Day</th>
                    <th>Arrive</th>
                    <th class="phonehide">Lunch Start</th>
                    <th class="phonehide">Lunch End</th>
                    <th>Depart</th>
                    <th class="phonehide">Total</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="info in hours track by $index">
                    <td>{{ info.name }}</td>
                    <td><input type="time" class="form-control" name="input" ng-model="info.win" placeholder="HH:mm"/></td>
                    <td class="phonehide"><input type="time" class="form-control" name="input" ng-model="info.lout" placeholder="HH:mm"/></td>
                    <td class="phonehide"><input type="time" class="form-control" name="input" ng-model="info.lin" placeholder="HH:mm"/></td>
                    <td><input type="time" class="form-control" name="input" ng-model="info.wout" placeholder="HH:mm"/></td>
                    <td class="phonehide">{{ ((info.wout - info.win) - (info.lin - info.lout)) / 3600000 | number:2 | number }}</td>
                </tr>
            </tbody>
        </table>
    </div><!-- /Hours Logging -->
</div><!-- /container -->
<!---------------------------------------------------------------------------------------------------->
<footer class="footer">
    <div class="container-fluid">
        <p class="pull-right"><a href="mailto:kennethbigler@gmail.com?subject=Feedback">Feedback</a></p>
    </div>
</footer>
<!---------------------------------------------------------------------------------------------------->
</body>
</html>